"use client";
import { useEffect, useState } from "react";
import Image from "next/image";
import { Barlow } from "next/font/google";

const barlow = Barlow({ subsets: ["latin"], weight: "600" });

export default function Navbar() {
  const [prevScrollPos, setPrevScrollPos] = useState(0);
  const [visible, setVisible] = useState(true);

  const handleScroll = () => {
    const currentScrollPos = window.pageYOffset;
    setVisible(prevScrollPos > currentScrollPos || currentScrollPos < 10);
    setPrevScrollPos(currentScrollPos);
  };

  useEffect(() => {
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, [prevScrollPos, visible]);

  const [navbarOpen, setNavbarOpen] = useState(false);

  return (
    <header
      className={`fixed z-50 w-full ${""} h-20 transition-all  duration-300 ease-in ${
        visible ? "header-visible" : "header-hidden"
      } ${visible ? "top-0" : ""}`}
    >
      <div className=" h-full flex items-center justify-between sm:px-40 p-2">
        <Image
          alt=""
          src="/LogoHorizontal.png"
          width={1000}
          height={1000}
          className="h-10 w-auto"
        />
        <Image
          onClick={() => setNavbarOpen(!navbarOpen)}
          alt=""
          src="/menu.svg"
          width={1000}
          height={1000}
          className="h-10 w-auto"
        />
        <Image
          alt=""
          src="/bharat.svg"
          width={1000}
          height={1000}
          className="h-10 w-auto"
        />
      </div>
      {navbarOpen && (
        <div
          className={`absolute  top-20 w-full pb-10 bg-[#3C3936] z-50 flex  justify-center animate__animated animate__backInDown`}
        >
          <div className="w-full flex flex-col  items-center text-[#EEEEEE]">
            <Image
              src="/logo.png"
              width={1000}
              height={1000}
              className="w-32 invert"
              alt=""
            />
            <h1
              className={`@apply text-xl font-semibold leading-[35px] tracking-[3px] ${barlow.className}`}
            >
              Innovate | Collaborate | Grow
            </h1>
            <ul
              className={`flex flex-col sm:flex-row items-center py-6 w-full justify-evenly gap-2 uppercase ${barlow.className}`}
            >
              <p className=" relative group cursor-pointer">
                <span className="@apply text-3xl font-bold leading-[16.9px] tracking-[0.5px]">
                  Home
                </span>
                <span className="absolute -bottom-1 left-0 w-0 h-[2px] bg-blue-400 transition-all duration-300 group-hover:w-full"></span>
              </p>
              <p className=" relative group cursor-pointer">
                <span className="@apply text-3xl font-bold leading-[16.9px] tracking-[0.5px]">
                  About
                </span>
                <span className="absolute -bottom-1 left-0 w-0 h-[2px] bg-blue-400 transition-all duration-300 group-hover:w-full"></span>
              </p>
              <p className=" relative group cursor-pointer">
                <span className="@apply text-3xl font-bold leading-[16.9px] tracking-[0.5px]">
                  ecosystem
                </span>
                <span className="absolute -bottom-1 left-0 w-0 h-[2px] bg-blue-400 transition-all duration-300 group-hover:w-full"></span>
              </p>
              <p className=" relative group cursor-pointer">
                <span className="@apply text-3xl font-bold leading-[16.9px] tracking-[0.5px]">
                  connect
                </span>
                <span className="absolute -bottom-1 left-0 w-0 h-[2px] bg-blue-400 transition-all duration-300 group-hover:w-full"></span>
              </p>
            </ul>

            <div className="flex w-full justify-between flex-col sm:flex-row items-center px-20 gap-4 pt-0 sm:pt-20">
              <p className="text-sm flex items-center font-normal leading-[27px] text-center">
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M6.6665 6.66699H23.9998C25.0607 6.66699 26.0781 7.08842 26.8283 7.83857C27.5784 8.58871 27.9998 9.60613 27.9998 10.667V22.667C27.9998 23.7279 27.5784 24.7453 26.8283 25.4954C26.0781 26.2456 25.0607 26.667 23.9998 26.667H6.6665C5.60564 26.667 4.58822 26.2456 3.83808 25.4954C3.08793 24.7453 2.6665 23.7279 2.6665 22.667V10.667C2.6665 9.60613 3.08793 8.58871 3.83808 7.83857C4.58822 7.08842 5.60564 6.66699 6.6665 6.66699ZM6.6665 8.00033C5.99984 8.00033 5.41317 8.22699 4.95984 8.62699L15.3332 15.3337L25.7065 8.62699C25.2532 8.22699 24.6665 8.00033 23.9998 8.00033H6.6665ZM15.3332 16.947L4.17317 9.70699C4.0665 10.0003 3.99984 10.3337 3.99984 10.667V22.667C3.99984 23.3742 4.28079 24.0525 4.78089 24.5526C5.28098 25.0527 5.95926 25.3337 6.6665 25.3337H23.9998C24.7071 25.3337 25.3854 25.0527 25.8855 24.5526C26.3855 24.0525 26.6665 23.3742 26.6665 22.667V10.667C26.6665 10.3337 26.5998 10.0003 26.4932 9.70699L15.3332 16.947Z"
                    fill="#DBDBDB"
                    fill-opacity="0.933333"
                  />
                </svg>
                info@vikavalabs.com
              </p>
              <p className="text-sm flex items-center font-normal leading-[27px] text-center">
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M24.5827 27.916H7.41732C6.53326 27.916 5.68542 27.5648 5.0603 26.9397C4.43517 26.3146 4.08398 25.4667 4.08398 24.5827V7.41732C4.08398 6.53326 4.43517 5.68542 5.0603 5.0603C5.68542 4.43517 6.53326 4.08398 7.41732 4.08398H24.5827C25.4667 4.08398 26.3146 4.43517 26.9397 5.0603C27.5648 5.68542 27.916 6.53326 27.916 7.41732V24.5827C27.916 25.4667 27.5648 26.3146 26.9397 26.9397C26.3146 27.5648 25.4667 27.916 24.5827 27.916ZM7.41732 5.41732C6.88689 5.41732 6.37818 5.62803 6.0031 6.0031C5.62803 6.37818 5.41732 6.88689 5.41732 7.41732V24.5827C5.41732 25.1131 5.62803 25.6218 6.0031 25.9969C6.37818 26.3719 6.88689 26.5827 7.41732 26.5827H24.5827C25.1131 26.5827 25.6218 26.3719 25.9969 25.9969C26.3719 25.6218 26.5827 25.1131 26.5827 24.5827V7.41732C26.5827 6.88689 26.3719 6.37818 25.9969 6.0031C25.6218 5.62803 25.1131 5.41732 24.5827 5.41732H7.41732Z"
                    fill="#EEEEEE"
                    fill-opacity="0.933333"
                  />
                  <path
                    d="M15.9999 22.1254C14.7884 22.1241 13.6044 21.7636 12.5978 21.0895C11.5911 20.4155 10.8069 19.4581 10.3442 18.3384C9.88156 17.2187 9.76126 15.987 9.99852 14.7989C10.2358 13.6109 10.8199 12.5198 11.6772 11.6637C12.5344 10.8076 13.6262 10.2249 14.8146 9.98915C16.0029 9.75344 17.2345 9.87535 18.3536 10.3395C19.4727 10.8036 20.429 11.5891 21.1018 12.5966C21.7746 13.6042 22.1335 14.7886 22.1332 16.0001C22.1311 17.6253 21.484 19.1833 20.334 20.3318C19.184 21.4803 17.6252 22.1254 15.9999 22.1254ZM15.9999 11.2001C15.0524 11.2014 14.1266 11.4835 13.3394 12.0107C12.5521 12.5379 11.9388 13.2866 11.5768 14.1622C11.2148 15.0377 11.1205 16.001 11.3057 16.9302C11.4908 17.8594 11.9472 18.7128 12.6172 19.3828C13.2871 20.0528 14.1406 20.5091 15.0698 20.6943C15.999 20.8795 16.9622 20.7851 17.8378 20.4231C18.7134 20.0612 19.4621 19.4478 19.9893 18.6606C20.5165 17.8734 20.7986 16.9475 20.7999 16.0001C20.7999 14.727 20.2942 13.5061 19.394 12.606C18.4938 11.7058 17.2729 11.2001 15.9999 11.2001Z"
                    fill="#EEEEEE"
                    fill-opacity="0.933333"
                  />
                  <path
                    d="M22.9333 10.5395C23.7249 10.5395 24.3667 9.89779 24.3667 9.10618C24.3667 8.31458 23.7249 7.67285 22.9333 7.67285C22.1417 7.67285 21.5 8.31458 21.5 9.10618C21.5 9.89779 22.1417 10.5395 22.9333 10.5395Z"
                    fill="#EEEEEE"
                    fill-opacity="0.933333"
                  />
                </svg>
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7.5 5C6.83841 5.00471 6.20526 5.26962 5.73744 5.73744C5.26962 6.20526 5.00471 6.83841 5 7.5V24.5C5 25.867 6.133 27 7.5 27H24.5C25.867 27 27 25.867 27 24.5V7.5C27 6.133 25.867 5 24.5 5H7.5ZM7.5 7H24.5C24.785 7 25 7.215 25 7.5V24.5C25.0014 24.566 24.9894 24.6317 24.9647 24.6929C24.9401 24.7542 24.9033 24.8099 24.8566 24.8566C24.8099 24.9033 24.7542 24.9401 24.6929 24.9647C24.6317 24.9894 24.566 25.0014 24.5 25H7.5C7.43393 25.0015 7.36824 24.9896 7.30689 24.965C7.24555 24.9404 7.18983 24.9036 7.1431 24.8569C7.09637 24.8102 7.05959 24.7544 7.035 24.6931C7.0104 24.6318 6.9985 24.5661 7 24.5V7.5C7 7.215 7.215 7 7.5 7ZM10.438 8.719C10.2088 8.71347 9.98088 8.75383 9.76754 8.83771C9.55421 8.92159 9.35981 9.04729 9.19577 9.20741C9.03174 9.36754 8.90139 9.55885 8.81239 9.7701C8.72339 9.98135 8.67754 10.2083 8.67754 10.4375C8.67754 10.6667 8.72339 10.8936 8.81239 11.1049C8.90139 11.3161 9.03174 11.5075 9.19577 11.6676C9.35981 11.8277 9.55421 11.9534 9.76754 12.0373C9.98088 12.1212 10.2088 12.1615 10.438 12.156C10.8866 12.1452 11.3132 11.9594 11.6266 11.6383C11.9401 11.3172 12.1155 10.8862 12.1155 10.4375C12.1155 9.98877 11.9401 9.55783 11.6266 9.23673C11.3132 8.91563 10.8866 8.72982 10.438 8.719ZM19.468 13.281C18.035 13.281 17.082 14.066 16.688 14.812H16.625V13.5H13.812V23H16.75V18.312C16.75 17.074 16.996 15.875 18.531 15.875C20.043 15.875 20.063 17.273 20.063 18.375V23H23V17.781C23 15.227 22.456 13.281 19.468 13.281ZM9 13.5V23H11.969V13.5H9Z"
                    fill="#EEEEEE"
                    fill-opacity="0.933333"
                  />
                </svg>
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18.5879 13.856L28.7139 2H26.3139L17.5239 12.294L10.4999 2H2.3999L13.0199 17.568L2.3999 30H4.7999L14.0839 19.128L21.5019 30H29.6019L18.5879 13.856ZM15.3019 17.704L14.2259 16.154L5.6639 3.82H9.3499L16.2579 13.774L17.3339 15.324L26.3159 28.264H22.6299L15.3019 17.704Z"
                    fill="#EEEEEE"
                    fill-opacity="0.933333"
                  />
                </svg>
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.4038 7.6416C11.1892 7.6416 11.8958 7.7096 12.5438 7.84827C13.1878 7.9856 13.7372 8.21227 14.2012 8.5256C14.6585 8.83894 15.0158 9.25494 15.2732 9.7776C15.5225 10.2936 15.6465 10.9389 15.6465 11.7016C15.6465 12.5283 15.4598 13.2189 15.0852 13.7696C14.7078 14.3216 14.1518 14.7736 13.4105 15.1229C14.4198 15.4149 15.1678 15.9256 15.6638 16.6509C16.1625 17.3829 16.4065 18.2589 16.4065 19.2856C16.4065 20.1189 16.2478 20.8349 15.9292 21.4363C15.6221 22.0287 15.1766 22.5382 14.6305 22.9216C14.0649 23.3155 13.433 23.6045 12.7652 23.7749C12.0649 23.9587 11.3438 24.0511 10.6198 24.0496H2.6665V7.6416H10.4038ZM9.93584 14.2709C10.5758 14.2709 11.1065 14.1189 11.5252 13.8109C11.9412 13.5069 12.1425 13.0056 12.1425 12.3189C12.1425 11.9376 12.0745 11.6229 11.9412 11.3763C11.8113 11.139 11.619 10.9416 11.3852 10.8056C11.1404 10.6604 10.8703 10.5632 10.5892 10.5189C10.2828 10.4618 9.97152 10.4346 9.65984 10.4376H6.27984V14.2709H9.93584ZM10.1372 21.2563C10.4932 21.2563 10.8318 21.2256 11.1505 21.1536C11.4718 21.0843 11.7572 20.9723 11.9998 20.8056C12.2425 20.6456 12.4425 20.4283 12.5865 20.1509C12.7318 19.8763 12.8025 19.5176 12.8025 19.0869C12.8025 18.2416 12.5638 17.6403 12.0918 17.2763C11.6185 16.9163 10.9838 16.7376 10.2065 16.7376H6.27984V21.2576L10.1372 21.2563ZM21.5572 21.2016C22.0465 21.6789 22.7518 21.9189 23.6692 21.9189C24.3265 21.9189 24.8945 21.7523 25.3732 21.4216C25.8452 21.0896 26.1332 20.7349 26.2438 20.3683H29.1172C28.6558 21.7976 27.9558 22.8189 26.9985 23.4336C26.0532 24.0509 24.9025 24.3576 23.5585 24.3576C22.6225 24.3576 21.7798 24.2069 21.0252 23.9083C20.3008 23.6262 19.6462 23.1904 19.1065 22.6309C18.5757 22.0584 18.1653 21.3851 17.8998 20.6509C17.608 19.8391 17.4635 18.9816 17.4732 18.1189C17.4732 17.2309 17.6212 16.4003 17.9118 15.6336C18.1878 14.8925 18.6114 14.2152 19.1572 13.6429C19.6972 13.0829 20.3372 12.6416 21.0825 12.3176C21.8663 11.988 22.7096 11.8237 23.5598 11.8349C24.5652 11.8349 25.4438 12.0296 26.1985 12.4216C26.9303 12.7958 27.5649 13.3354 28.0518 13.9976C28.5358 14.6549 28.8812 15.4083 29.0958 16.2523C29.3105 17.0949 29.3852 17.9749 29.3238 18.8963H20.7492C20.7505 19.8349 21.0665 20.7243 21.5572 21.2016ZM25.3065 14.9603C24.9185 14.5309 24.2625 14.2989 23.4598 14.2989C22.9385 14.2989 22.5078 14.3856 22.1612 14.5643C21.8442 14.7244 21.563 14.9471 21.3345 15.2189C21.1338 15.4658 20.9851 15.7506 20.8972 16.0563C20.8203 16.3112 20.7707 16.5735 20.7492 16.8389H26.0585C25.9812 16.0069 25.6958 15.3923 25.3065 14.9603ZM20.0825 8.74294H26.7345V10.3629H20.0825V8.74294Z"
                    fill="#EEEEEE"
                    fill-opacity="0.933333"
                  />
                </svg>
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16 4C9.384 4 4 9.384 4 16C4 22.616 9.384 28 16 28C22.616 28 28 22.616 28 16C28 9.384 22.616 4 16 4ZM16 6C21.535 6 26 10.465 26 16C26.0024 18.394 25.144 20.709 23.5813 22.5226C22.0187 24.3362 19.856 25.5275 17.488 25.879V18.916H20.336L20.783 16.023H17.488V14.443C17.488 13.243 17.883 12.176 19.006 12.176H20.811V9.652C20.494 9.609 19.823 9.516 18.555 9.516C15.907 9.516 14.355 10.914 14.355 14.1V16.023H11.633V18.916H14.355V25.854C12.0198 25.4696 9.89724 24.2675 8.36669 22.4623C6.83615 20.6572 5.99729 18.3667 6 16C6 10.465 10.465 6 16 6Z"
                    fill="#EEEEEE"
                    fill-opacity="0.933333"
                  />
                </svg>
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_1_8786)">
                    <path
                      d="M15.9998 5.33301C17.1398 5.33301 18.3092 5.36234 19.4425 5.41034L20.7812 5.47434L22.0625 5.55034L23.2625 5.63167L24.3585 5.71701C25.5479 5.80804 26.6671 6.3156 27.5192 7.15039C28.3713 7.98518 28.9017 9.09373 29.0172 10.281L29.0705 10.8477L29.1705 12.061C29.2638 13.3183 29.3332 14.689 29.3332 15.9997C29.3332 17.3103 29.2638 18.681 29.1705 19.9383L29.0705 21.1517C29.0532 21.3463 29.0358 21.5343 29.0172 21.7183C28.9017 22.9058 28.3711 24.0145 27.5187 24.8494C26.6663 25.6842 25.5468 26.1916 24.3572 26.2823L23.2638 26.3663L22.0638 26.449L20.7812 26.525L19.4425 26.589C18.2956 26.6388 17.1478 26.6646 15.9998 26.6663C14.8519 26.6646 13.7041 26.6388 12.5572 26.589L11.2185 26.525L9.93717 26.449L8.73717 26.3663L7.64117 26.2823C6.45177 26.1913 5.33257 25.6837 4.48047 24.849C3.62836 24.0142 3.09794 22.9056 2.9825 21.7183L2.92917 21.1517L2.82917 19.9383C2.72722 18.6279 2.67296 17.3141 2.6665 15.9997C2.6665 14.689 2.73584 13.3183 2.82917 12.061L2.92917 10.8477C2.9465 10.653 2.96384 10.465 2.9825 10.281C3.09789 9.09394 3.62813 7.98556 4.47996 7.1508C5.33179 6.31604 6.45068 5.80834 7.63984 5.71701L8.7345 5.63167L9.9345 5.55034L11.2172 5.47434L12.5558 5.41034C13.7032 5.36052 14.8514 5.33473 15.9998 5.33301ZM15.9998 7.99967C14.8998 7.99967 13.7678 8.02901 12.6665 8.07434L11.3625 8.13701L10.1105 8.21034L8.9345 8.29034L7.85717 8.37434C7.29095 8.41452 6.75723 8.65387 6.35063 9.04998C5.94403 9.44608 5.6908 9.97336 5.63584 10.5383C5.47984 12.1503 5.33317 14.157 5.33317 15.9997C5.33317 17.8423 5.47984 19.849 5.63584 21.461C5.74917 22.6237 6.67184 23.5277 7.85717 23.625L8.9345 23.7077L10.1105 23.7877L11.3625 23.8623L12.6665 23.925C13.7678 23.9703 14.8998 23.9997 15.9998 23.9997C17.0998 23.9997 18.2318 23.9703 19.3332 23.925L20.6372 23.8623L21.8892 23.789L23.0652 23.709L24.1425 23.625C24.7087 23.5848 25.2424 23.3455 25.649 22.9494C26.0557 22.5533 26.3089 22.026 26.3638 21.461C26.5198 19.849 26.6665 17.8423 26.6665 15.9997C26.6665 14.157 26.5198 12.1503 26.3638 10.5383C26.3089 9.97336 26.0557 9.44608 25.649 9.04998C25.2424 8.65387 24.7087 8.41452 24.1425 8.37434L23.0652 8.29167L21.8892 8.21167L20.6372 8.13701L19.3332 8.07434C18.2227 8.02656 17.1113 8.00167 15.9998 7.99967ZM13.3332 12.7663C13.3331 12.636 13.3648 12.5077 13.4257 12.3924C13.4865 12.2772 13.5745 12.1785 13.6822 12.1051C13.7898 12.0316 13.9138 11.9855 14.0433 11.9709C14.1727 11.9562 14.3038 11.9734 14.4252 12.021L14.5332 12.0743L20.1332 15.3063C20.2447 15.3707 20.339 15.461 20.4082 15.5696C20.4773 15.6782 20.5192 15.8019 20.5304 15.9301C20.5415 16.0584 20.5215 16.1875 20.4721 16.3063C20.4227 16.4252 20.3453 16.5304 20.2465 16.613L20.1332 16.693L14.5332 19.9263C14.4203 19.9917 14.2932 20.0285 14.1629 20.0335C14.0326 20.0384 13.903 20.0115 13.7855 19.955C13.668 19.8985 13.5661 19.8141 13.4886 19.7091C13.4112 19.6042 13.3606 19.482 13.3412 19.353L13.3332 19.233V12.7663Z"
                      fill="#EEEEEE"
                      fill-opacity="0.933333"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1_8786">
                      <rect width="32" height="32" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </p>
            </div>
          </div>
        </div>
      )}
    </header>
  );
}
